(function(o,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("lodash-es"),require("@zhangqingcq/china-area-data")):typeof define=="function"&&define.amd?define(["vue","lodash-es","@zhangqingcq/china-area-data"],c):(o=typeof globalThis<"u"?globalThis:o||self,o.ArCascader=c(o.Vue,o.lodashEs,o.areaData))})(this,function(o,c,y){"use strict";return o.defineComponent({__name:"ArCascader",props:{modelValue:{default:()=>[]},level:{default:2},dataType:{default:"all"},disabled:{type:Boolean,default:!1},size:{},placeholder:{},renderFormat:{type:Function,default:b=>b.join("/")},changeOnSelect:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(b,{emit:T}){const V=T,a=b;let i=[];const _=e=>{if(typeof e=="number"&&(e=e.toString()),e.length<12){const l=[...e];for(;l.length<12;)l.push("0");return Number(l.join(""))}return Number(e)},q=o.computed({get(){var l,n,r,u,d,f,s,m;let e=[];return(n=(l=a.modelValue)==null?void 0:l.every)!=null&&n.call(l,t=>/^[\u4e00-\u9fa5]+$/.test(t))?e=h(a.modelValue,"label","value"):(u=(r=a.modelValue)==null?void 0:r.every)!=null&&u.call(r,t=>/^\d+$/.test(t))?e=a.modelValue.map(_):(f=(d=a.modelValue)==null?void 0:d.every)!=null&&f.call(d,t=>t==null?void 0:t.hasOwnProperty("code"))?e=h(a.modelValue.map(t=>({code:_(t.code),name:t.name})),"value","value","code"):(m=(s=a.modelValue)==null?void 0:s.every)!=null&&m.call(s,t=>t==null?void 0:t.hasOwnProperty("name"))&&(e=h(a.modelValue,"label","value","name")),i=e,e},set(e){if(N(e))return;let l=[];a.dataType==="all"?l=h(e,"value","all"):a.dataType==="code"?l=e:a.dataType==="name"&&(l=h(e,"value","label")),V("update:modelValue",l),V("on-change",l)}}),B=o.computed(()=>{const e=[];return y.forEach(l=>{const n={label:l.label,value:l.value};Number(a.level)>0&&(n.children=[],l.children.forEach(r=>{const u={label:r.label,value:r.value};Number(a.level)>1&&(u.children=[],r.children.forEach(d=>{u.children.push({label:d.label,value:d.value})})),n.children.push(u)})),e.push(n)}),e});function h(e,l,n,r){var t,z,C;const u=[];let d,f,s;r?(d=(t=e[0])==null?void 0:t[r],f=(z=e[1])==null?void 0:z[r],s=(C=e[2])==null?void 0:C[r]):(d=e[0],f=e[1],s=e[2]);const m=c.find(y,p=>p[l]===d);if(m){if(g(u,m,n),a.level===0||f===void 0)return u;const p=c.find(m.children,v=>v[l]===f);if(p){if(g(u,p,n),a.level===1||s===void 0)return u;const v=c.find(p.children,O=>O[l]===s);if(v)return g(u,v,n),u}}return[]}function g(e,l,n){n==="label"||n==="value"?e.push(l[n]):e.push({code:l.value,name:l.label})}function N(e){return(e==null?void 0:e.length)===0?(i==null?void 0:i.length)===0:(i==null?void 0:i.length)===0?!1:e.every((l,n)=>l===(i==null?void 0:i[n]))}return(e,l)=>{const n=o.resolveComponent("Cascader");return o.openBlock(),o.createBlock(n,{modelValue:q.value,"onUpdate:modelValue":l[0]||(l[0]=r=>q.value=r),data:B.value,disabled:a.disabled,size:a.size,placeholder:a.placeholder,"render-format":a.renderFormat,"change-on-select":a.changeOnSelect,transfer:""},null,8,["modelValue","data","disabled","size","placeholder","render-format","change-on-select"])}}})});
